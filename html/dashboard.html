<!DOCTYPE html>
<html lang="en">
<html>

<head>
  <!--HTML-->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Dashboard</title>

  <!--CSS-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="/./css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

  <!--JavaScript-->
  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="/./js/code.js"></script>
  <script type="text/javascript" src="/./js/userupdater.js"></script>
  
  <script type="text/javascript">
    if(readCookie() < 1){
      window.location.href = "warning.html";
    }
  </script>
  <script>
    $(function () {
      $("#includeHtml").load("navbar.html");
    });
  </script>

</head>

<body style="background-color: #d9dfdb">
  <noscript>You need to enable JavaScript to run this app.</noscript>

  <!--NavBar-->
  <div id="includeHtml"></div>

  <!-- Page -->
  <div class='container-fluid vh-100 overflow-scroll'
    style='background-image: url("/images/paper.png"); background-size: cover; padding-top: 10px; padding-bottom: 10px;'>

    <!-- Rotating the Stars Animation for the Title --> 
    <style>
      .star {
        -webkit-animation:spin 2.5s linear infinite;
        -moz-animation:spin 2.5s linear infinite;
        animation:spin 2.5s linear infinite;
      }

      @keyframes anim-lineUp {
        0% {
          opacity: 0;
          transform: translateY(80%);
        }
        20% {
          opacity: 0;
        }
        50% {
          opacity: 1;
          transform: translateY(0%);
        }
        100% {
          opacity: 1;
          transform: translateY(0%);
        }
      }
      @-moz-keyframes spin { 100% { -moz-transform: rotate(360deg); } }
      @-webkit-keyframes spin { 100% { -webkit-transform: rotate(360deg); } }
      @keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); }
      }
    </style>

    <!-- Title -->
    <center>
    <div id="title" class="container rounded-5 p-5" style='object-fit: cover; color: #bc1823; font-family: fibre; 
      border-radius: 50%; color: 444a53; opacity: 90%; font-size: 76px; font-weight: 700;
      padding-top: 15px; align-items: center; display: flex; justify-content: center;'>
      <img class="star" src="/images/star.png" style="height: 80px; width: 140px;">
      WANTED: <span id="user-name-title"></span>
      <img class="star" src="/images/star.png" style="height: 80px; width: 140px;">
    </div>
    </center>  

    <!--Search Bar-->
    <div class="container rounded-5" id="box" style='background-color: #d9dfdb; 
    ; height: 50px; border-radius: 30px; font-family: bobby; color: #212932; 
      margin-top: 0px; display: flex; align-items:center; transition: 0.8s;
      box-shadow: 0 0 25px 0 rgba(0, 0, 0, 0.4); justify-content: center; font-size: 24px;'>
      <input class="searchBar" type="text" id="searchText" style="font-size: 24px" placeholder="SEARCH...">
      <a href="#">
        <li class="fas fa-search" style= "color: #bc1823;" id="searchButton" onclick="searchContact();"></li>
      </a>
    </div>

    <script>
      var input = document.getElementsByClassName("searchBar");
      document.addEventListener("keypress", (event)=> {
        let keyCode = event.keyCode ? event.keyCode : event.which;
        if (keyCode === 13){
          event.preventDefault();
          document.getElementById("searchButton").click();
        }
      });
    </script>

    <!--Data Boxes-->
    <div class='container'
      style='display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; max-width: 975px;'>
      <div id="data-box-1" class='container rounded-3' style='background-color: #d9dfdb; opacity: 90%;
        margin-top: 20px; width: 220px; padding: 16px 20px; border-radius: 5px;
        display: flex; justify-content: flex-start; align-items: center;'>
        <i class="fas fa-users" style='font-size:25px; width: 60px;
          height: 60px; line-height: 60px; border-radius: 50%; 
          text-align: center; color: #d9dfdb; background-color: #bc1823; margin-right: 15px;'></i>
        <div>
          <h3 style='font-size: 18px; font-weight: 600; margin-bottom:0rem; '><span>8,512</span></h3>
          <!--TEMP-->
          <span style='font-size: 15px; color: #828997;'>CONTACTS</span>
        </div>
      </div>

      <div id="data-box-2" class='container rounded-3' style='background-color: #d9dfdb; opacity: 90%;
        margin-top: 20px; width: 220px; padding: 16px 20px; border-radius: 5px;
        display: flex; justify-content: flex-start; align-items: center;'>
        <i class="fas fa-dizzy" style='font-size:25px; width: 60px;
          height: 60px; line-height: 60px; border-radius: 50%; 
          text-align: center; color: #d9dfdb; background-color: #bc1823; margin-right: 15px;'></i>
        <div>
          <h3 style='font-size: 18px; font-weight: 600; margin-bottom:0rem; '><span>21</span></h3>
          <!--TEMP-->
          <span style='font-size: 15px; color: #828997;'>DEAD</span>
        </div>
      </div>

      <div id="data-box-3" class='container rounded-3' style='background-color: #d9dfdb; opacity: 90%;
          margin-top: 20px; width: 220px; padding: 16px 20px; border-radius: 5px;
          display: flex; justify-content: flex-start; align-items: center;'>
        <i class="fas fa-street-view" style='font-size:25px; width: 60px;
          height: 60px; line-height: 60px; border-radius: 50%; 
          text-align: center; color: #d9dfdb; background-color: #bc1823; margin-right: 15px;'></i>
        <div>
          <h3 style='font-size: 18px; font-weight: 600; margin-bottom:0rem; '><span>45</span></h3>
          <!--TEMP-->
          <span style='font-size: 15px; color: #828997;'>MISSING</span>
        </div>
      </div>

      <div id="data-box-4" class='container rounded-3' style='background-color: #d9dfdb; opacity: 90%;
          margin-top: 20px; width: 220px; padding: 16px 20px; border-radius: 5px;
          display: flex; justify-content: flex-start; align-items: center;'>
        <i class="fas fa-user-lock" style='font-size:25px; width: 60px;
          height: 60px; line-height: 60px; border-radius: 50%; 
          text-align: center; color: #d9dfdb; background-color: #bc1823; margin-right: 15px;'></i>
        <div>
          <h3 style='font-size: 18px; font-weight: 600; margin-bottom:0rem; '><span>6</span></h3>
          <!--TEMP-->
          <span style='font-size: 15px; color: #828997;'>IN JAIL</span>
        </div>
      </div>
    </div>
    <script>displayUsername();</script>

    <!--Table-->
    <div id="contact-table" class="board"
      style='font-family: bobby; color: #212932; width: 95%; margin: 30px 0 30px 50px; overflow: auto; background-color: #d9dfdb; font-size: 18px; border-radius: 12px;'>
      <!-- <div class='container m-0 width-100 overflow-scroll' style="height: 500px"> -->
      <table width="100%" style='border-collapse: collapse;'>
          <thead style="top: 0; z-index: 2; position: sticky;">
          <tr style='border-bottom: 1px solid #212932;'>
            <td id="D-Tabel-Head" style="background-color: #212932; color: #d9dfdb;">Name</td>
            <td id="D-Tabel-Head" style="background-color: #212932; color: #d9dfdb;">Phone Number</td>
            <td id="D-Tabel-Head" style="background-color: #212932; color: #d9dfdb;">Relationship</td>
            <td id="D-Tabel-Head" style="background-color: #212932; color: #d9dfdb;">Status</td>
            <td id="D-Tabel-Add" style="background-color: #212932; font-size: 24px;">
              <a href="#">
                <li class="fas fa-plus" id="addContactButton" style="color: #bc1823;" onclick="showAddModal();"></li>
              </a>
            </td>
          </tr>
        </thead>
        <tbody id="tbody">
          <script>
            document.getElementById("user-name-title").innerHTML = document.getElementById("loginName").value;
          </script>
        </tbody>
      </table>
      <!--load more button-->
      <center><button class="fas fa-angle-double-down" id="loadMore-button" onclick="wrapperDisplay();"
        style="font-size: 25px; border: none; background: transparent; margin: 3px;"></button></center>
    </div>

    <!--Add Contact-->
    <dialog class="container rounded-5" id="addModal">
      <div style='text-align: center; font-family: fibre; color: #bc1823; font-size: 75px;'>
        ADD A SUSPECT
      </div>

      <form>
        <center><label>
          <input type="file" id="real-file" hidden="hidden"/>
          <button type="button" id="image-button" onclick="openFiles()">CHOOSE AN IMAGE</button>
          <span id="custom-text" style=' font-family: bobby; font-size: 18px; 
            color: #7b7b7b;'>No file chosen, yet.
          </span>
        </label></center>

        <center><label for="addName" style='text-align: center; font-family: bobby; color: #bc1823; font-size: 1.8rem;'>NAME:
          <input id = "addName" name="addName" style='font-family: bobby; text-align: center; font-size: 1.5rem; color: #212932;
          background-color: #d9dfdb; border-radius: 24px; margin-top: 11px; border: 1px solid #d9dfdb;' placeholder="SUSPECT NAME" required></input>
          </label>
        </center>

        <center><label for="addEmail" style='font-family: bobby; color: #bc1823; font-size: 1.8rem;'>EMAIL:
          <input id = "addEmail" name="addEmail" style='font-family: bobby; text-align: center; font-size: 1.5rem; color: #212932; background-color: #d9dfdb; 
            border-radius: 24px; margin-top: 11px; border: 1px solid #d9dfdb;' placeholder="NAME@EMAIL.COM">
        </label></center>

        <center><label for="addNum" style='font-family: bobby; color: #bc1823; font-size: 1.8rem;'>PHONE NUMBER:
          <input id = "addNum" name="addNum" style='font-family: bobby; text-align: center; font-size: 1.5rem; color: #212932; background-color: #d9dfdb; 
            border-radius: 24px; margin-top: 11px; border: 1px solid #d9dfdb;' placeholder="000-000-0000">
        </label></center>

        <center><label for="addRelation" style='font-family: bobby; color: #bc1823; font-size: 1.8rem;'>RELATIONSHIP:
          <input id="addRelation" name="addRelation" style='font-family: bobby; text-align: center; font-size: 1.5rem; color: #212932; background-color: #d9dfdb; 
            border-radius: 24px; margin-top: 11px; border: 1px solid #d9dfdb;' placeholder="UNKNOWN">
        </label></center>

        <center><label for="addStatus"style='font-family: bobby; color: #bc1823; font-size: 1.8rem;'>STATUS:
          <select id = "addStatus" style="background-color: #dfdbd9; border-radius: 24px; margin-top: 11px; font-family: bobby; text-align: center;
            color: #212932; font-size: 1.4rem; width: fit-content; padding: 8px;">
            <option></option>
            <option value="dead">DEAD</option>
            <option value="alive">ALIVE</option>
            <option value="missing">MISSING</option>
            <option value="injail">IN JAIL</option>
          </select>
        </label></center>

      </form>
      <div>
        <button id="addCancelButton" onclick="cancelAddModal();">CANCEL</button>
        <button id="addSaveButton" onclick="saveAddModal();">SAVE</button>
      </div>
    </dialog>

    <!--Edit Contact-->
    <dialog class="container rounded-5" id="editModal">
      <div style='text-align: center; font-family: fibre; color: #bc1823; font-size: 75px;'>
        EDIT <span id="editModalHeader"></span>
      </div><!--ADD EDITED CONTACT NAME ABOVE-->

      <form>
        <center><label>
          <input type="file" id="real-file" hidden="hidden"/>
          <button type="button" id="image-button" onclick="openFiles()">CHOOSE AN IMAGE</button>
          <span id="custom-text" style=' font-family: bobby; font-size: 18px; 
            color: #7b7b7b;'>No file chosen, yet.
          </span>
        </label></center>

        <center><label for="editName" style='text-align: center; font-family: bobby; color: #bc1823; font-size: 1.8rem;'>NAME:
          <input id = "editName" name="editName" style='font-family: bobby; text-align: center; font-size: 1.5rem; color: #212932;
          background-color: #d9dfdb; border-radius: 24px; margin-top: 11px; border: 1px solid #d9dfdb;' placeholder="SUSPECT NAME" required></input>
          </label>
        </center>

        <center><label for="editEmail" style='font-family: bobby; color: #bc1823; font-size: 1.8rem;'>EMAIL:
          <input id = "editEmail" name="editEmail" style='font-family: bobby; text-align: center; font-size: 1.5rem; color: #212932; background-color: #d9dfdb; 
            border-radius: 24px; margin-top: 11px; border: 1px solid #d9dfdb;' placeholder="NAME@EMAIL.COM">
        </label></center>

        <center><label for="editNum" style='font-family: bobby; color: #bc1823; font-size: 1.8rem;'>PHONE NUMBER:
          <input id= "editNum" name="editNum" style='font-family: bobby; text-align: center; font-size: 1.5rem; color: #212932; background-color: #d9dfdb; 
            border-radius: 24px; margin-top: 11px; border: 1px solid #d9dfdb;' placeholder="000-000-0000">
        </label></center>

        <center><label for="editRelation" style='font-family: bobby; color: #bc1823; font-size: 1.8rem;'>RELATIONSHIP:
          <input id = "editRelation" name="editRelation" style='font-family: bobby; text-align: center; font-size: 1.5rem; color: #212932; background-color: #d9dfdb; 
            border-radius: 24px; margin-top: 11px; border: 1px solid #d9dfdb;' placeholder="UNKNOWN">
        </label></center>

        <center><label for="editStatus"style='font-family: bobby; color: #bc1823; font-size: 1.8rem;'>STATUS:
          <select id = "editStatus" style="background-color: #dfdbd9; border-radius: 24px; margin-top: 11px; font-family: bobby; text-align: center;
            color: #212932; font-size: 1.4rem; width: fit-content; padding: 8px;">
            <option></option>
            <option value="dead">DEAD</option>
            <option value="alive">ALIVE</option>
            <option value="missing">MISSING</option>
            <option value="injail">IN JAIL</option>
          </select>
        </label></center>

      </form>
      <div>
        <button id="editCancelButton" onclick="cancelEditModal();">CANCEL</button>
        <button id="editSaveButton" onclick="saveEditModal();">SAVE</button>
      </div>
    </dialog>

    <!--Delete Contact:-->
    <dialog class="container rounded-5" id="deleteModal">
      <div style='text-align: center; font-family: fibre; color: #bc1823; font-size: 50px;'>
        Are you sure you want to delete <span id="deleteModalHeader"></span>?
      </div>
      <div>
        <button id="deleteCancelButton" onclick="cancelDeleteModal();">CANCEL</button>
        <button id="deleteSaveButton" onclick="saveDeleteModal();">DELETE</button>
      </div>
    </dialog>
  </div>
</body>
</html>